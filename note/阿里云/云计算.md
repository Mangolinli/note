### 信息科技前沿技术及应用趋势讲座

+ 
![[Pasted image 20240305162047.png]]

+ 什么是大数据
![[Pasted image 20240305163621.png]]

+ 服务器本身就是一种电脑，同样具备cpu，内存，硬盘，网卡，电源等硬件。
+ 云服务器本质是一种商业模式。
![[Pasted image 20240305184346.png]]
### 创建网站
+ WordPress是使用PHP语言开发的内容管理平台，WordPress运行的**基础环境一般为“****LAMP/LNMP****”**，其中：
- “L”为Linux的缩写，是**操作系统软件**，是服务器中其它软件运行的基础，常见的CentOS、Ubuntu等；
- “A/N”为Apache/Nginx的缩写，是**Web服务器软件**，用来运行网站页面以及响应处理用户请求；
- “M”为MySQL的缩写，是**数据库软件**，用来存放网站运行必要的系统数据和用户数据；
- “P”为PHP的缩写，是**编程软件**，用来运行WordPress软件的代码。

1.  第一步：部署 **LAMP/LNMP** 环境，需要在ECS实例中安装**操作系统**（Linux，本例中使用的操作系统版本为CentOS 7.9 64位）、**Web服务器软件**（Apache/Nginx）、**数据库软件**（MySQL）、**网站代码运行环境**（PHP）。
2. 第二步：部署 **WordPress** 网站
+  第一步：部署 “LAMP/LNMP” 环境
		- “L”：通过Linux镜像安装操作系统。
		- “A/N”：安装**Web服务器软件**，本例为安装**Apache**服务，在Workbench中依次输入如下命令：
```linux
# 安装 Apache
yum -y install httpd
# 设置 Apache 开机自启动
systemctl enable httpd
# 启动 Apache
systemctl start httpd
# 查看 Apache 运行状态
systemctl status httpd
```
>提示：本例中安装的Apache（音译为阿帕奇）是世界上最流行的Web服务器软件之一，其跨平台和安全性被广泛使用，因为它是自由软件，所以不断有人来为它开发新的功能、新的特性、修改原来的缺陷。Apache的特点是简单、速度快、性能稳定，并可做代理服务器来使用。

+ 当看到“Active: **active (running)** ”说明Apache服务已经成功运行了。
![[Pasted image 20240306085046.png]]
+ “M”：安装**MySQL数据库**，在Workbench中依次输入如下命令：
```linux
# 更新 YUM 源
rpm -Uvh http://dev.mysql.com/get/mysql57-community-release-el7-9.noarch.rpm
# 安装 MySQL 数据库
yum -y install mysql-community-server --nogpgcheck
# 设置 MySQL 开机自启动
systemctl enable mysqld
# 启动 MySQL
systemctl start mysqld
# 查看 MySQL 运行状态
systemctl status mysqld
# 查看 MySQL root用户默认密码
grep 'temporary password' /var/log/mysqld.log |awk '{print $11}'
# 执行MySQL 数据库初始化命令，
mysql_secure_installation
```

+ 执行**mysql_secure_installation**命令会出现MySQL初始化的交互式操作，首先修改 root 密码
![[Pasted image 20240306085505.png]]
+ 紧接着**mysql_secure_installation**会继续进行一系列的初始化操作，均输入“y”即可：
![[Pasted image 20240306085621.png]]
+ “P”：安装**PHP**，在Workbench中依次输入如下命令：
```linux
# 更新YUM源
yum -y install epel-releaseyum -y install http://rpms.remirepo.net/enterprise/remi-release-7.rpm
# 安装 PHP
yum-config-manager --enable remi-php82
yum -y install php php-cli php-common php-devel php-embedded php-fpm php-gd php-ldap php-mbstring php-mcrypt php-fpm php-mysqlnd php-pdo php-opcache php-xml php-soap php-redis php-mongodb
# 查看 PHP 安装版本
php -v
```
+ **测试“LAMP”环境**，在Workbench中依次输入如下命令：
```linux
# 创建测试页面
echo "<?php phpinfo(); ?>" > /var/www/html/phpinfo.php
echo "This is Apache test page." > /var/www/html/index.html
# 重启 Apache 服务
systemctl restart httpd
```
+  第二步：部署 WordPress 网站
	+ **配置 WordPress 数据库**，在Workbench中依次输入如下命令

```linux
# 使用root用户登录 MySQL，并输入密码。
mysql -uroot -p
# 创建 WordPress 网站的同名数据库
create database wordpress;
# 创建 WordPress 网站的管理员用户"wpadmin"，密码为"Edualiyun@123"
grant all privileges on wordpress.* to 'wpadmin'@'localhost' identified by 'Edualiyun@123';
# 刷新权限，使配置生效
flush privileges;
# 退出 MySQL
exit;
```
+ **安装 WordPress**，在Workbench中依次输入如下命令：
```linux
# 下载 WordPress
cd /opt
wget https://cn.wordpress.org/latest-zh_CN.tar.gz
# 将下载的 WordPress 移动至网站根目录
tar zxvf latest-zh_CN.tar.gz
mv /opt/wordpress/ /var/www/html/
chown -R apache.apache /var/www/html/wordpress
# 修改 Apache 和 WordPress 的配置文件
sed -i 's%DocumentRoot "/var/www/html"%DocumentRoot "/var/www/html/wordpress"%g' /etc/httpd/conf/httpd.conf
cp /var/www/html/wordpress/wp-config-sample.php /var/www/html/wordpress/wp-config.php
sed -i "s/define( 'DB_NAME', 'database_name_here' );/define( 'DB_NAME', 'wordpress' );/g" /var/www/html/wordpress/wp-config.php
sed -i "s/define( 'DB_USER', 'username_here' );/define( 'DB_USER', 'wpadmin' );/g" /var/www/html/wordpress/wp-config.php
sed -i "s/define( 'DB_PASSWORD', 'password_here' );/define( 'DB_PASSWORD', 'Edualiyun@123' );/g" /var/www/html/wordpress/wp-config.php
# 重启 Apache 服务
systemctl restart httpd
```
+ 网站备案连接
```
[网站备案\_ICP备案\_备案迁移\_备案-阿里云](https://beian.aliyun.com/)
```
![[Pasted image 20240306091452.png]]

### 个人规划
+ ![[Pasted image 20240306104654.png]]
+ ![[Pasted image 20240306105253.png]]
+ ![[Pasted image 20240306110010.png]]
+ ![[Pasted image 20240306110157.png]]
+ ![[Pasted image 20240306110211.png]]
+ ![[Pasted image 20240306110306.png]]

### 建立阿里云网盘
#### 主要的存储类型
+ 块存储
> 块存储是一种**将数据存储为固定大小块**的数据存储方式。块存储将数据分成多个块，每个块的大小通常是固定的，比如4KB、8KB、16KB等。块存储的数据结构相对固定，无法进行自由的调整。块存储通常用于文件系统、关系型数据库等领域，常常用于存储大量的数据，以提高数据读写效率。块存储的优势在于**存储效率较高**，可以**快速存储和检索数据**。

+ 文件存储
> 文件存储是一种**将数据存储为文件**的数据存储方式。文件存储将数据分成多个文件，每个文件可以包含多个数据块。文件存储通常用于存储大量的数据，可以通过文件系统等方式进行管理和访问。文件存储的优势在于**可以灵活地管理和访问数据**，并且可以**支持大规模的数据存储和管理**。

+ 对象存储
> 对象存储是一种新型的云存储服务，它**将数据存储为对象**的形式，可以更好地满足大量非结构化数据存储和管理的需求。对象存储将数据分为多个层次，每个层次都有自己的命名空间和属性。**每个对象都有一个唯一的标识符**，可以通过这个标识符访问和管理数据。
> 对象存储**经济高效**：您只需为已用的内容付费。它可以轻松扩展，因而是公共云存储的理想之选。它是一个**非常适用于静态数据的存储系统**，其灵活性和扁平性意味着它**可以通过扩展来存储极大量的数据**。对象具有足够的信息供应用快速查找数据，并且**擅长存储非结构化数据**。

#### 阿里云存储
+ 什么是阿里云块存储
> 块存储EBS(Elastic Block Storage)是**为云服务器ECS提供的低时延、持久性、高可靠的块级随机存储**。 块存储支持在可用区内自动复制您的数据，防止意外硬件故障导致的数据不可用，保护您的业务免于硬件故障的威胁。
+  阿里云块存储（EBS）能做什么
1. 针对**自建关系型/NoSQL数据库**，在面对查询的次数达到几十万~百万的规模，时延要求必须控制在ms级以内时需要性能更强的块存储；
    
2. **企业核心业务系统**：客户自建大数据集群， 采用本地SSD机器自建HBase做推荐业务的检索，随着流量的增加，读吞吐能力达到了本地SSD盘的最大值，影响业务查询性能，面对本地SSD集群无法扩展，新增机器性价比不高情况，可替换成ESSD云盘以支持NoSql数据库在高业务压力情况下的检索性能；
    
3. **基于快照的数据保护**：当企业有数千ECS实例，分散在多个阿里云区域。如何保障这些ECS实例的安全，已成为当前IT建设的重点，块存储的快照服务可以解决该痛点。
+ 什么是阿里云文件存储
>阿里云文件存储NAS (Apsara File Storage NAS) 是一个**可大规模共享访问，弹性扩展的高性能云原生分布式文件系统**。面向阿里云ECS实例、E-HPC、容器服务等计算节点的文件存储服务，支持智能冷热数据分层，有效降低数据存储成本。

+ 阿里云文件存储能做什么
1. **容器共享存储**：容器集群将容器镜像的配置文件或初始加载数据存储在NAS共享文件存储上，在容器批量加载时实时读取。多POD间通过NAS存储创建的弹性共享PV持久化数据，在POD故障时可以进行故障切换。
    
2. **虚拟云桌面**：需要将个人数据放置在NAS存储上持久化，随桌面迁移并通过SMB访问。管理员可以对NAS上的数据进行统一备份和管理
    
3. **高性能网站及WEB应用**：将代码文件、配置文件或图片等业务数据放置在NAS存储上共享访问，大部分都为几十KB级的小文件，对系统响应速度有较高要求，可以将多台无状态服务器共享一份NAS存储的数据，统一管理和扩展存储空间，架构简单易维护

+ 什么是阿里云对象存储
>阿里云对象存储OSS(Object Storage Service)是一款**海量、安全、低成本、高可靠**的云存储服务，提供 99.9999999999%(12个9)的数据持久性，99.995%的数据可用性。多种存储类型供选择，全面优化存储成本。

+ 阿里云对象存储能做什么
1. 阿里云对象存储 OSS 打造了**云原生的企业级数据湖**，作为统一的存储池，不仅可对接多种数据输入方式，还可以存储任意规模的结构化、半结构化、非结构化数据，打破数据孤岛
    
2. **海量存储**：OSS可用于图片、音视频、日志等海量文件的存储。各种终端设备、Web网站程序、移动应用可以直接向OSS写入或读取数据
    
3. 网页或移动应用的**静态和动态资源分离**：OSS提供原生的传输加速功能，支持上传加速、下载加速，提升使用体验。同时，OSS也可以结合CDN产品，提供静态内容存储、分发到边缘节点的解决方案，利用CDN边缘节点缓存的数据，提升同一个文件被同一地区客户大量重复并发下载的体验。

#### 操作步骤
- **ECS安装cloudreve**
```
#通过workbench登陆已创建的ECS实例终端 
#下载cloudreve 
wget https://labfileapp.oss-cn-hangzhou.aliyuncs.com/cloudreve_3.3.1_linux_amd64.tar.gz  
#解压安装包 
tar -xzvf cloudreve_3.3.1_linux_amd64.tar.gz chmod +x ./cloudreve     #授予其可执行权限 ./cloudreve               #运行
```
- **ECS安装ossfs**
```
#通过workbench登陆已创建的ECS实例终端
#下载ossfs 
wget https://gosspublic.alicdn.com/ossfs/ossfs_1.80.6_centos8.0_x86_64.rpm  
#安装ossfs 
yum install -y ./ossfs_1.80.6_centos8.0_x86_64.rpm
```
- **挂载oss Bucket**  
```
#通过workbench登陆已创建的ECS实例终端 
#创建要挂载的目录
mkdir oss  
#将Bucket挂载到指定目录oss 执行 
ossfs {您创建的Bucket} {上一步创建的目录 oss} -o url={访问的域名endpoint}  
#挂载成功后验证执行 
df -h
```
- **配置网盘**
    - 运行cloudreve
    - 打开浏览器，访问http://<ECS公网地址>:5212，依次输入管理员账号和密码，单击登录。
    - cloudreve主界面右上角，单击管理面板进行配置存储策略和用户组
    - 配置完成后，可以上传文件操作

#### **文件存储NAS基础概念与功能特性**

**基础概念**

- **地域（Region）**：数据中心所在的物理位置，创建文件系统时指定，创建成功后不能更换地域，可以对同地域、跨地域或线下IDC的计算节点进行挂载访问
    
- **可用区：**在同一地域内，电力和网络互相独立的物理区域。创建文件系统时指定，例如，华东1杭州可用区A、B
    
- **专有网络VPC**：一种虚拟私有网络，VPC之间相互隔离，可以使用云企业网连通，拥有一个网络环境是计算节点访问NAS文件系统所需的前提条件
    
- **文件系统**：存储文件的地方，**通过计算节点挂载访问**。以传统的目录树形式管理文件的数据和元数据。支持数百个计算节点同时访问，进行数据共享和高并发读写
    
- **挂载点**：NAS文件系统在网络环境中的连接点，**以域名形式出现**，用以实现数据的传输
    
- **挂载**：**将计算节点与NAS文件系统相连接的操作**。完成挂载后，计算节点可以访问NAS文件系统中的数据
### 云数据库RDS
#### 数据库基本概念
- 数据（Data）：描述事物的符号。这个符号可以是文字、图像、音频和视频等等。
- 数据库（DataBase，DB）：长期存储在计算机内、有组织的、可共享的数据集合称为数据库。
- 数据库管理系统（DataBase Management System，DBMS）：管理数据库的软件称为数据库管理系统，通常简称数据库。MySQL、Oracle和PostgreSQL都是比较优秀的数据库管理系统。
- 数据库管理员（Database Administrator，DBA）：从事管理和维护数据库管理系统(DBMS)的相关工作人员， DBA的核心目标是保证数据库管理系统的稳定性、安全性、完整性和高性能。
![[Pasted image 20240307111346.png]]
####  MySQL体系架构
+ MySQL的体系架构分为客户端、Server层和存储引擎层，Server层包括连接器、查询缓存、分析器、优化器和执行器，存储引擎有MyISAM、InnoDB、Memory等等，目前主流的是综合性能更强的InnoDB存储引擎。
![[Pasted image 20240307111606.png]]

- 连接器：管理连接，权限验证。
- 分析器：词法分析、语法分析、语义分析。
- 优化器：生成执行计划、索引选择、连表顺序。
- 执行器：操作存储引擎，返回结果。
- 查询缓存：命中则直接返回结果


+ 字符集：字符集（Character set）是多个字符的集合，字符集种类较多，每个字符集包含的字符个数不同，常见字符集名称：ASCII字符集、GB2312字符集、BIG5字符集、 GB18030字符集、Unicode字符集等。utf8、utf8mb4是Unicode其中的使用方式。在跨境电商行业里通常选用utf8就够了，若是表情符场景可选用utf8mb4这样会增加一点存储成本。
```mysql
-- 创建表结构
CREATE TABLE `goods` (  
`id` bigint(20) NOT NULL COMMENT '书籍编号',
`name` varchar(32) NOT NULL COMMENT '书籍名称',
`price` decimal(10,0) NOT NULL COMMENT '单价',
`stock` int(10) unsigned NOT NULL COMMENT '库存',
`author` varchar(128) DEFAULT NULL COMMENT '作者',
`publishing_house` varchar(32) DEFAULT NULL COMMENT '出版社',
`publishing_date` date DEFAULT NULL COMMENT '出版日期',
`type` varchar(16) DEFAULT NULL COMMENT '类型',
PRIMARY KEY (`id`))
ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='商品信息';
-- 插入数据
INSERT INTO
`goods` (
	`id`,
	`name`,
	`price`,
	`stock`,
	`author`,
	`publishing_house`,
	`publishing_date`,
	`type`
	)
VALUES
(
	'1',
	'Python编程从入门到精通',    
	'50',    
	'4990',    
	'张三',    
	'图灵出版社',    
	'2022-01-15',   
	'计算机'  
	),  
	(    
	'2',    
	'数据结构与算法分析',    
	'35',    
	'700',    
	'李四',    
	'清华大学出版社',    
	'2021-09-30',    
	'计算机'  
	);
-- 查询
SELECT * FROM `goods`;
-- 修改数据(修改后执行上面的查询语句检查是否修改成功)
UPDATE  `goods`
SET  
	`price` = 78
WHERE  
	id = 1 
 -- 删除数据(删除后执行上面的查询语句检查是否删除成功)
 DELETE FROM `goods`
 WHERE  `id` = 1
 -- 删除表
 DROP TABLE `goods` ;
```
